<!doctype html>
<html lang="zh" class="no-js">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>微信订阅号管理后台</title>
    <link rel="stylesheet" href="https://cdn.bootcss.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="http://wangbowen.cn/WX_GZH/css/reset.css">
    <link rel="stylesheet" type="text/css" href="http://wangbowen.cn/WX_GZH/css/default.css">
    <link rel="stylesheet" href="http://wangbowen.cn/WX_GZH/css/style.css">
    <script src="/js/modernizr.js"></script>
    <!--[if IE]>
    <script src="http://libs.baidu.com/html5shiv/3.7/html5shiv.min.js"></script>
    <![endif]-->
</head>
<body>
<header class="cd-main-header">
   <!-- <a href="#0" class="cd-logo"><img src="img/logo.png" alt="Logo"></a>-->
    <a class="cd-logo" style="color: white">微信订阅号后台管理</a>
    <!--<div class="cd-search is-hidden">
        <form action="#0">
            <input type="search" placeholder="Search...">
        </form>
    </div>-->
    <a href="#0" class="cd-nav-trigger"><span></span></a>
    <!--<nav class="cd-nav">
        <ul class="cd-top-nav"></ul>
    </nav>-->
</header>
<main class="cd-main-content">
    <!-- 导航栏 -->
    <nav class="cd-side-nav">
        <ul class="no_line">
            <!--<li class="cd-label">管理菜单</li>-->
            <li class="has-children active comments ">
                <a href="#0">消息管理</a>
                <ul>
                    <li><a href="#0">自动回复</a></li>
                    <li><a href="#0">添加规则</a></li>
                </ul>
            </li>
            <li class="has-children active bookmarks">
                <a href="#0">素材管理</a>
                <ul>
                    <li onclick="get_list('news')"><a href="#0" id="mews_list">图文素材</a></li>
                    <li onclick="get_list('voice')"><a href="#0" id="voice_list">语音素材</a></li>
                    <li onclick="get_list('video')"><a href="#0" id="video_list">视频素材</a></li>
                    <li onclick="get_list('image')"><a href="#0">图片素材</a></li>
                </ul>
            </li>
            <li class="has-children active users">
                <a href="#0">成员管理</a>
                <ul>
                    <li><a href="#0">用户关注列表</a></li>
                    <li><a href="#0">管理员列表</a></li>
                </ul>
            </li>
        </ul>
    </nav>
    <!-- 自动回复 -->
    <!--<div class="content-wrapper">
        <div class="my_title">规则列表</div>
        <div>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>#</th>
                    <th>规则名称</th>
                    <th>匹配方式</th>
                    <th>匹配内容</th>
                    <th>回复类型</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">1</th>
                    <td>Mark</td>
                    <td>Otto</td>
                    <td>@mdo</td>
                    <td>@mdo</td>
                </tr>
                <tr>
                    <th scope="row">2</th>
                    <td>Jacob</td>
                    <td>Thornton</td>
                    <td>@fat</td>
                    <td>@mdo</td>
                </tr>
                <tr>
                    <th scope="row">3</th>
                    <td>Larry</td>
                    <td>the Bird</td>
                    <td>@twitter</td>
                    <td>@mdo</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>-->
    <!-- 添加规则 -->
    <!--<div class="content-wrapper">
        <div class="my_title">添加规则</div>
        <div>
            <div class="form-inline">
                <label for="rule_name" style="margin:5px 30px 10px 0">规则名称</label>
                <input type="text" class="form-control col-md-3" id="rule_name" placeholder="请输入规则名称">
            </div>
            <div>
                <label style="margin:5px 30px 10px 0">匹配模式</label>
                <label class="radio-inline">
                    <input type="radio" name="matched_pattern" id="matched1" value="full" checked="checked"> 全匹配
                </label>
                <label class="radio-inline">
                    <input type="radio" name="matched_pattern" id="matched2" value="half"> 半匹配
                </label>
                <label class="radio-inline">
                    <input type="radio" name="matched_pattern" id="matched3" value="defined"> 自定义正则
                </label>
            </div>
            <div class="form-inline">
                <label style="margin:5px 30px 10px 0">匹配规则</label>
                <input type="text" class="form-control col-md-3" placeholder="请输入匹配关键词">
            </div>
            <div class="form-inline">
                <label style="margin:5px 30px 10px 0">模拟消息</label>
                <input type="text" class="form-control col-md-3" placeholder="模拟用户发送的文本消息">
                <button type="button" class="btn btn-success" style="margin-left: 10px">检 测</button>
            </div>
            <div class="form-inline">
                <label style="margin:5px 30px 10px 0">匹配结果</label>
                <input type="text" class="form-control col-md-3" placeholder="" readonly="readonly">
                <span>（返回用户发送的文本根据规则匹配的结果）</span>
            </div>
            <div>
                <label style="margin:5px 30px 10px 0">回复类型</label>
                <label class="radio-inline">
                    <input type="radio" name="replay_type" id="replay_type1" value="text" checked="checked"> 文字
                </label>
                <label class="radio-inline">
                    <input type="radio" name="replay_type" id="replay_type2" value="image"> 图片
                </label>
                <label class="radio-inline">
                    <input type="radio" name="replay_type" id="replay_type3" value="defined"> 语音
                </label>
                <label class="radio-inline">
                    <input type="radio" name="replay_type" id="replay_type4" value="video"> 视频
                </label>
                <label class="radio-inline">
                    <input type="radio" name="replay_type" id="replay_type5" value="defined"> 图文
                </label>
            </div>
            <div class="form-inline">
                <label style="margin:5px 30px 10px 0">回复文本</label>
                <textarea class="form-control col-md-5" rows="7"></textarea>
            </div>
            <div class="form-inline" style="display: none">
                <label style="margin:5px 30px 10px 0">回复素材</label>
                <input type="text" class="form-control col-md-3" placeholder="请输入素材ID">
            </div>
            <div style="margin: 20px auto">
                <button type="button" class="btn btn-primary col-md-2">添 加 规 则</button>
            </div>
        </div>
    </div>-->
    <!-- 图文素材 -->
    <div class="content-wrapper">
        <div class="my_title" id="material_title">素材</div>
        <div>
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>#</th>
                    <th>素材名称</th>
                    <th>素材ID（复制到添加规则中）</th>
                </tr>
                </thead>
                <tbody id="table_body">
                    <!-- 素材列表 -->
                </tbody>
            </table>
        </div>
    </div>
</main>
<script src='https://libs.baidu.com/jquery/2.1.1/jquery.min.js'></script>
<!--<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>-->
<script src="http://wangbowen.cn/WX_GZH/js/jquery.menu-aim.js"></script>
<script src="http://wangbowen.cn/WX_GZH/js/main.js"></script>
<script src="https://cdn.bootcss.com/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://cdn.bootcss.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
    var token = "123456789";
    function get_list(material_type) {
        //请求参数
        var list = {};
        //
        $.ajax({
            //请求方式
            type: "POST",
            //请求的媒体类型
            contentType: "application/json;charset=UTF-8",
            //请求地址
            url: "http://localhost:8080/Material/" + material_type + "/" + token,
            //数据，json字符串
            data: JSON.stringify(list),
            dataType: "json",
            //请求成功
            success: function (result) {
                console.log(result);
                if (result.errcode == null) {
                    if (material_type === "image") {
                        $("#material_title").html("图片素材");
                    }else if (material_type === "news") {
                        $("#material_title").html("图文素材");
                    }else if (material_type === "voice") {
                        $("#material_title").html("语音素材");
                    }else if (material_type === "video") {
                        $("#material_title").html("图片素材");
                    }
                    var str = "";
                    for (var i = 0; i < result.length; i++) {
                        str += "<tr><th scope=\"row\">"+(i + 1)+"</th><td>"+result[i].name+"</td><td>"+result[i].media_id+"</td></tr>"
                    }
                    $("#table_body").html(str);
                }else {
                    console.log(result.errcode + "," + result.errmsg);
                }
            },
            //请求失败，包含具体的错误信息
            error: function (e) {
                console.log(e.status);
                console.log(e.responseText);
            }
        });
    }
    $(function () {


    });
</script>
</body>
</html>